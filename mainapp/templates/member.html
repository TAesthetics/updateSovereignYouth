{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block title %}{% trans 'Mitgliederbereich' %} | {% trans 'Sovereign Youth' %}{% endblock %}

{% block extra_head %}
<style>
    /* Forum Styles matching the landing page theme */
    .forum-container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 1.5rem;
    }
    
    .forum-header {
        background: #1a1a2e;
        border-radius: 8px;
        padding: 2rem;
        margin-bottom: 2rem;
        border: 1px solid #2a2a4e;
    }
    
    .forum-header h2 {
        color: #e94560;
        margin: 0 0 1rem 0;
        font-size: 2rem;
    }
    
    .beta-badge {
        background: #e94560;
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        display: inline-block;
    }
    
    .forum-channels {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
    }
    
    .channel-link {
        background: #16213e;
        color: #b8b8b8;
        text-decoration: none;
        font-weight: 600;
        padding: 0.8rem 1.5rem;
        border-radius: 8px;
        border: 1px solid #2a2a4e;
        transition: all 0.3s ease;
    }
    
    .channel-link:hover {
        background: #e94560;
        color: white;
        transform: translateY(-2px);
    }
    
    .channel-link.active {
        background: #e94560;
        color: white;
    }
    
    .forum-messages {
        background: #16213e;
        border-radius: 8px;
        padding: 2rem;
        min-height: 400px;
        margin-bottom: 2rem;
        border: 1px solid #2a2a4e;
    }
    
    .forum-message {
        background: #1a1a2e;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        border: 1px solid #2a2a4e;
    }
    
    .forum-message .author {
        color: #e94560;
        font-weight: 600;
        margin-right: 1rem;
    }
    
    .forum-message .timestamp {
        color: #6c6c6c;
        font-size: 0.9rem;
    }
    
    .forum-message .content {
        color: #e6e6e6;
        margin-top: 0.5rem;
        display: block;
    }
    
    .forum-form {
        background: #16213e;
        border-radius: 8px;
        padding: 2rem;
        border: 1px solid #2a2a4e;
    }
    
    .forum-form input {
        background: #1a1a2e;
        border: 1px solid #2a2a4e;
        color: #e6e6e6;
        padding: 1rem;
        border-radius: 8px;
        flex: 1;
    }
    
    .forum-form input::placeholder {
        color: #6c6c6c;
    }
    
    .forum-form button {
        background: #e94560;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 1rem 2rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .forum-form button:hover {
        background: #d63950;
        transform: translateY(-2px);
    }
    
    .no-messages {
        color: #6c6c6c;
        text-align: center;
        margin: 3rem 0;
        font-style: italic;
    }
</style>
{% endblock %}

{% block content %}
<div class="forum-container">
    <div class="forum-header">
        <h2>{% trans 'Mitgliederforum' %}</h2>
        <span class="beta-badge">{% trans 'Beta' %}</span>
        <p style="color: #b8b8b8; margin-top: 1rem;">{% trans 'Interner Austausch f√ºr Mitglieder von Sovereign Youth' %}</p>
    </div>
    
    <div class="forum-channels">
        {% for value, label in channels %}
            <a href="?channel={{ value }}" class="channel-link {% if value == current_channel %}active{% endif %}">
                # {{ label }}
            </a>
        {% endfor %}
    </div>
    
    <div class="forum-messages">
        {% for msg in messages %}
            <div class="forum-message">
                <span class="author">{{ msg.author.username }}</span>
                <span class="timestamp">{{ msg.timestamp|date:"d.m.Y, H:i" }}</span>
                <span class="content">{{ msg.content|linebreaksbr }}</span>
            </div>
        {% empty %}
            <div class="no-messages">{% trans 'Noch keine Nachrichten im Channel.' %}</div>
        {% endfor %}
    </div>
    
    <form class="forum-form" method="post" style="display: flex; gap: 1rem;">
        {% csrf_token %}
        <input type="text" name="content" placeholder="{% trans 'Nachricht schreiben...' %}" autocomplete="off" required>
        <button type="submit">{% trans 'Senden' %}</button>
    </form>
</div>
{% endblock %}
